<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>得昌行|捷獅---會員系統</title>
   <link rel="stylesheet" href="css/bootstrap.min.css">
   <link rel="stylesheet" href="css/mycolor-tegrand.css">
   <link rel="stylesheet" href="css/all.min.css">
   <link rel="stylesheet" href="css/animate.min.css">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.3.0/styles/overlayscrollbars.min.css"
      integrity="sha256-dSokZseQNT08wYEWiz5iLI8QPlKxG+TswNRD8k35cpg=" crossorigin="anonymous">
   <!--滾動條樣式 (OverlayScrollbars)-->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.min.css"
      integrity="sha256-Qsx5lrStHZyR9REqhUF8iQt73X06c8LGIUPzpOhwRrI=" crossorigin="anonymous">
   <!--Bootstrap Icons（圖示庫）-->
   <link rel="stylesheet" href="css/adminlte.css"> <!--AdminLTE（後台管理模板 CSS）-->
   <link rel="icon" href="images/MajorProject/捷獅.webp" type="image/png">
   <style>
      /*連結底線顯示none*/
      a {
         text-decoration: none;
      }

      /* 會員系統 */
      /* #memberSystem {
         position: fixed;
         bottom: 180px;
         right: 20px;
         z-index: 999;
         height: 70px;
         width: 70px;
         background-color: var(--myjumpcolor01);
         color: white;
         border: none;
         border-radius: 50%;
         cursor: pointer;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
         transition: background-color 0.3s ease;
      } */

      /* 查看機臺清單 */
      #moreitem {
         position: fixed;
         bottom: 180px;
         right: 20px;
         z-index: 999;
         height: 70px;
         width: 70px;
         background-color: var(--myjumpcolor01);
         color: white;
         border: none;
         border-radius: 50%;
         cursor: pointer;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
         transition: background-color 0.3s ease;
      }

      /* 購物車(與管理系統btn同位置) */
      #shopping {
         position: fixed;
         bottom: 100px;
         right: 20px;
         z-index: 999;
         height: 70px;
         width: 70px;
         background-color: var(--myjumpcolor01);
         color: white;
         border: none;
         border-radius: 50%;
         cursor: pointer;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
         transition: background-color 0.3s ease;
      }

      /* 回到頁面頂部 */
      #backToTop {
         position: fixed;
         bottom: 20px;
         right: 20px;
         z-index: 999;
         height: 70px;
         width: 70px;
         background-color: var(--myjumpcolor01);
         color: white;
         border: none;
         border-radius: 50%;
         cursor: pointer;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
         transition: background-color 0.3s ease;
      }

      #moreitem:hover,
      #shopping:hover,
      #backToTop:hover {
         background-color: var(--myjumpcolor02);
      }

      /* s01 */
      #s01 {
         background-color: var(--myjumpcolor03);
         height: auto;
      }

      .s01-icon {
         color: var(--myjumpcolor01);
         font-size: 40px;
      }

      .s01-icon-fb {
         color: #1877f2;
         font-size: 50px;
      }

      .s01-icon-line {
         color: #00b900;
         font-size: 45px;
      }

      .s01-icon-ig {
         color: #833ab4;
         font-size: 50px;
      }

      .s01-icon-threads {
         color: #000000;
         font-size: 50px;
      }

      .s01-span {
         font-size: 30px;
         line-height: 1;
      }

      .s01-sup {
         font-size: 15px;
      }

      /* s02 */
      .navbar {
         background-color: var(--myjumpcolor01);
      }

      .navbar-brand-img {
         width: 80px;
         border-radius: 20px;
      }

      .navbar-brand-name {
         font-size: 60px;
         color: white;
      }

      .nav-link {
         border-radius: 10px;
         color: white;
      }

      .s02-icon {
         color: white;
      }

      .s02-icon-span {
         color: white;
         font-size: 30px;
      }

      .s02-icon-dropdown {
         color: var(--myjumpcolor01);
         font-size: 25px;
      }

      .s02-icon-dropdown-span {
         color: var(--myjumpcolor01);
         font-size: 30px;
      }

      /* section02 banner按鍵動作 */
      .navbar a:hover,
      .navbar button:hover {
         background-color: var(--myjumpcolor03);
         box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.3);
         transform: translateY(-2px);
         transition: all 0.3s ease-in-out;
      }

      .navbar a:active,
      .navbar button:active {
         box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.8);
         transform: translateY(6px);
         transition: all 0.2s ease-in-out;
      }

      .navbar-toggler {
         background-color: white;
      }

      /* 背景圖 */
      .boxbg {
         background-image: url(images/MajorProject/managerbg.png);
         background-attachment: fixed;
         position: relative;
         z-index: 1;
         background-position: center;
         background-size: cover;
         background-repeat: no-repeat;
      }

      .boxbg::before {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(255, 255, 255, 0.6);
         z-index: -1;
      }

      @media (max-width: 1500px) {
         .nav-link-icon {
            display: inline-block;
            width: 100px;
            text-align: center;
            margin-left: 10px;
            background-color: var(--myjumpcolor04);
         }

         .nav-link-span {
            display: none;
         }
      }

      @media (max-width: 1200px) {
         .box01_1 {
            font-size: 80px;
         }

         .box01_2 {
            font-size: 40px;
         }

      }

      @media (max-width: 1100px) {
         .navbar-brand-name {
            font-size: 50px;
         }
      }

      @media (max-width: 992px) {
         .box01_1 {
            font-size: 60px;
         }

         .box01_2 {
            font-size: 30px;
         }

         .navbar-brand-img {
            width: 80px !important;
            border-radius: 10px;
         }
      }

      @media (max-width: 640px) {
         .navbar-brand-name {
            font-size: 30px;
         }

         .box01_1 {
            font-size: 46px;
         }

         .box01_2 {
            font-size: 23px;
         }
      }
   </style>
</head>

<body oncontextmenu="window.event.returnValue=false">
   <!-- section01 頁首連結&登入登出連結&時間提醒 -->
   <section id="s01" class="py-2">
      <div class="row mx-3 align-items-center text-center text-md-start d-none d-md-block">
         <div class="col-12 d-flex flex-wrap justify-content-center justify-content-md-between align-items-center">
            <div class="d-flex align-items-center">
               <a href="tel:+886-04-8654937" title="得昌行電話" class="me-3">
                  <i class="fa-solid fa-phone s01-icon"></i>
               </a>
               <a href="tel:+886-933562438" title="捷獅電話" class="me-3">
                  <i class="fa-solid fa-mobile-screen-button s01-icon"></i>
               </a>
               <a href="mailto:XXX@gmail.com" title="Email電子信箱">
                  <i class="fa-solid fa-envelopes-bulk s01-icon"></i>
               </a>
            </div>
            <div class="mx-3 d-flex align-items-center flex-wrap justify-content-center justify-content-md-end">
               <a href="#" class="me-2" title="Facebook">
                  <i class="fa-brands fa-square-facebook s01-icon-fb"></i>
               </a>
               <a href="#" class="me-2" title="Line">
                  <i class="fa-brands fa-line s01-icon-line"></i>
               </a>
               <a href="#" class="me-2" title="IG">
                  <i class="fa-brands fa-square-instagram s01-icon-ig"></i>
               </a>
               <a href="#" class="me-2" title="Threads">
                  <i class="fa-brands fa-square-threads s01-icon-threads"></i>
               </a>
            </div>
         </div>
      </div>
      <div class="row mx-3 mt-2 align-items-center">
         <div class="col-lg-6 order-2 order-md-1 text-center text-md-start mt-2 d-none d-lg-block">
            <span class="ms-2 s01-span">
               <b>
                  <span id="datetime"></span>（<span id="weekday"></span>）
               </b>
            </span>
         </div>
         <div class="col-lg-6 order-1 order-md-2 text-center text-md-end">
            <div class="d-flex align-items-center justify-content-center justify-content-md-end">
               <span class="me-3 s01-span d-none" id="s01_username_showspan">
                  <b><span id="s01_username_span"></span>，您好!</b>
               </span>
               <button class="btn btn-lg btn-outline-danger me-2" id="s01_logout_btn">登出</button>
            </div>
         </div>
      </div>
   </section>

   <!-- section02 banner -->
   <section id="s02">
      <nav class="navbar navbar-expand-lg">
         <div class="container-fluid">
            <div class="navbar-brand fw-900 d-flex align-items-center">
               <img class="navbar-brand-img" src="images/MajorProject/捷獅.webp" alt="得昌行-捷獅">
               <span class="navbar-brand-name ms-1">得昌行-捷獅</span>
               <a class="nav-link ms-5 p-2 nav-link-icon" aria-current="page" href="tegrand_project_v4.html" title="首頁">
                  <i class="s02-icon fa-solid fa-house fa-xl"></i>
                  <span class="s02-icon-span nav-link-span">
                     <b>首頁</b>
                  </span>
               </a>
            </div>
         </div>
      </nav>
   </section>

   <!-- section03 管理系統 -->
   <section id="s03" class="boxbg pb-2">
      <ol class="breadcrumb ms-3 mb-0">
         <li class="breadcrumb-item h4"><a href="tegrand_project_v4.html"><b>首頁</b></a></li>
         <li class="breadcrumb-item active h4" aria-current="page"><b>會員系統</b></li>
      </ol>
      <div class="container-fluid">
         <div class="row justify-content-around">
            <!-- 會員資料檢視 -->
            <div class="col-lg-3 col-6" id="my_loadingdata_btn">
               <!-- <button class="small-box text-bg-primary text-decoration-none py-1 border-0 w-100" id="loadingdata_btn"
                  data-bs-toggle="modal" data-bs-target="#loadingModal" data-id="" data-username="" data-password=""
                  data-email="" data-city="" data-area="" data-address="" data-phone="" data-telephone="" data-fax="">
                  <div class="inner d-flex flex-column">
                     <h4 class="text-start"><b>會員資料</b></h4>
                     <h5 class="text-start"><b>檢視</b></h5>
                  </div>
                  <svg class="small-box-icon" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                     aria-hidden="true">
                     <path
                        d="M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z">
                     </path>
                  </svg> -->
               </button>
            </div>
            <!-- 訂單紀錄查詢 -->
            <div class="col-lg-3 col-6">
               <a class="small-box text-bg-success text-decoration-none py-1" href="#updataModal">
                  <div class="inner">
                     <h4><b>訂單紀錄
                        </b></h4>
                     <h5><b>查詢</b></h5>
                  </div>
                  <svg class="small-box-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                     viewBox="0 0 16 16">
                     <path
                        d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2" />
                  </svg>
               </a>
            </div>
            <!-- 售機紀錄查詢 -->
            <div class="col-lg-3 col-6">
               <a class="small-box text-bg-warning text-decoration-none py-1" href="#">
                  <div class="inner">
                     <h4><b>售機紀錄
                        </b></h4>
                     <h5><b>查詢</b></h5>
                  </div>
                  <svg class="bi bi-bag-plus-fill small-box-icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                     viewBox="0 0 16 16">
                     <path fill-rule="evenodd"
                        d="M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0M8.5 8a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V12a.5.5 0 0 0 1 0v-1.5H10a.5.5 0 0 0 0-1H8.5z" />
                  </svg>
               </a>
            </div>
         </div>
      </div>
   </section>

   <!-- loadingModal -->
   <div class="modal fade" id="loadingModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
      data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
         <div class="modal-content">
            <div class="modal-header text-bg-primary fw-900">
               <h1 class="modal-title fs-5" id="exampleModalLabel">
                  會員資料
               </h1>
               <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
               <div class="mb-3">
                  <label for="loadingModal_username" class="form-label">帳號</label>
                  <input type="text" class="form-control" id="loadingModal_username" name="loadingModal_username"
                     disabled />
               </div>
               <div class="mb-2">
                  <label for="loadingModal_email" class="form-label">Email</label>
                  <input type="email" class="form-control" id="loadingModal_email" name="loadingModal_email" disabled />
               </div>
               <div class="mb-2">
                  <label for="loadingModal_address" class="form-label">地址</label>
                  <div class="mb-2" style="display: flex; align-items: center">
                     <input type="text" class="form-control" id="loadingModal_selectCity" name="loadingModal_selectCity"
                        disabled />
                     <input type="text" class="form-control ms-2" id="loadingModal_selectArea"
                        name="loadingModal_selectArea" disabled />
                  </div>
                  <input type="text" class="form-control" placeholder="請輸入地址" id="loadingModal_address"
                     name="loadingModal_address" disabled />
               </div>
               <div class="mb-2">
                  <label for="loadingModal_phone" class="form-label" style="margin-bottom: 2px">手機號碼</label>
                  <input type="tel" class="form-control" id="loadingModal_phone" name="loadingModal_phone" disabled />
               </div>
               <div class="mb-2">
                  <label for="loadingModal_telephone" class="form-label" style="margin-bottom: 2px">座機號碼</label>
                  <input type="tel" class="form-control" id="loadingModal_telephone" name="loadingModal_telephone"
                     disabled />
               </div>
               <div class="mb-2">
                  <label for="loadingModal_fax" class="form-label" style="margin-bottom: 2px">傳真電話號碼</label>
                  <input type="tel" class="form-control" id="loadingModal_fax" name="loadingModal_fax" disabled />
               </div>
            </div>
            <div class="modal-footer d-flex justify-content-between">
               <button type="button" class="btn btn-primary" id="loadingModal_cancel_btn" data-bs-dismiss="modal">
                  確認會員資料無誤
               </button>
               <div id="my_loadingModal_update_btn">
                  <button type="button" class="btn btn-warning" id="loadingModal_update_btn" data-bs-toggle="modal"
                     data-bs-target="#updateModal" data-id="" data-username="" data-email="" data-city="" data-area=""
                     data-address="" data-phone="" data-telephone="" data-fax="">
                     更新會員資料
                  </button>
               </div>
            </div>
         </div>
      </div>
   </div>

   <!-- updateModal -->
   <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
      data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
         <div class="modal-content">
            <div class="modal-header text-bg-warning fw-900">
               <h1 class="modal-title fs-5" id="exampleModalLabel">
                  會員資料更新
               </h1>
               <div class="col-6 text-danger ms-3">
                  <sup class="s01-sup">*</sup>為必填項目
               </div>
               <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
               <div class="mb-3">
                  <label for="updateModal_username" class="form-label">帳號</label>
                  <input type="text" class="form-control" id="updateModal_username" name="updateModal_username"
                     disabled>
               </div>
               <div class="mb-2">
                  <label for="updateModal_email" class="form-label">Email<sup
                        class="s01-sup text-danger">*</sup></label>
                  <input type="email" class="form-control" id="updateModal_email" name="updateModal_email">
                  <div class="valid-feedback">Email格式正確</div>
                  <div class="invalid-feedback">Email格式不正確</div>
               </div>
               <div class="mb-2">
                  <label for="updateModal_address" class="form-label">地址</label>
                  <div class="mb-2" style="display: flex; align-items: center">
                     <select name="selectCity" id="selectCity" class="form-select" style="margin-bottom: 1px">
                        <!-- <option value="" class="text-center" selected disabled>---選擇縣市---</option>
                        <option value="臺中市" class="text-center">臺中市</option> -->
                     </select>
                     <div class="invalid-feedback d-none" id="selectCityError">請選擇縣市</div>
                     <select name="selectArea" id="selectArea" class="form-select ms-2">
                        <!-- <option value="" class="text-center" selected disabled>---選擇鄉鎮市區---</option>
                        <option value="太平區" class="text-center">太平區</option> -->
                     </select>
                     <div class="invalid-feedback d-none" id="selectAreaError">請選擇鄉鎮市區</div>
                  </div>
                  <input type="text" class="form-control" placeholder="請輸入地址" id="updateModal_address"
                     name="updateModal_address">
                  <div class="invalid-feedback d-none" id="addressError">請輸入完整地址</div>
               </div>
               <div class="mb-2">
                  <label for="updateModal_phone" class="form-label" style="margin-bottom: 2px">手機號碼</label>
                  <input type="tel" class="form-control" placeholder="填入數字，不含符號" id="updateModal_phone"
                     name="updateModal_phone">
                  <div class="invalid-feedback">手機號碼格式不正確</div>
               </div>
               <div class="mb-2">
                  <label for="updateModal_telephone" class="form-label" style="margin-bottom: 2px">座機號碼</label>
                  <input type="tel" class="form-control" placeholder="填入數字，不含符號" id="updateModal_telephone"
                     name="updateModal_telephone" />
                  <div class="invalid-feedback">座機號碼格式不正確</div>
               </div>
               <div class="mb-2">
                  <label for="updateModal_fax" class="form-label" style="margin-bottom: 2px">傳真電話號碼</label>
                  <input type="tel" class="form-control" placeholder="填入數字，不含符號" id="updateModal_fax"
                     name="updateModal_fax" />
                  <div class="invalid-feedback">傳真電話號碼格式不正確</div>
               </div>
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-secondary" id="updateModal_cancel_btn" data-bs-dismiss="modal">
                  取消
               </button>
               <button type="button" class="btn btn-primary" id="updateModal_update_btn">
                  確認更新
               </button>
            </div>
         </div>
      </div>
   </div>

   <!-- section04 最新訂單紀錄 -->
   <section id="s04" class="boxbg pb-3">
      <div class="container-fluid">
         <div class="card">
            <div class="card-header">
               <h1 class="card-title"><i class="fa-solid fa-fire ms-3" style="color: rgba(255, 0, 0)"></i><b
                     class="ms-1">最新訂單</b></h1>
            </div>
            <div class="card-body p-0">
               <div class="table-responsive">
                  <table class="table m-0">
                     <thead>
                        <tr>
                           <th width="15%">訂單編號</th>
                           <th width="15%">訂單狀態</th>
                           <th width="70%">出售機台</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td><a href="#"
                                 class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">OR9842</a>
                           </td>
                           <td><span class="badge text-bg-success">Shipped</span></td>
                           <td>Call of Duty IV</td>
                        </tr>
                        <tr>
                           <td><a href="#"
                                 class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">OR1848</a>
                           </td>
                           <td><span class="badge text-bg-warning">Pending</span></td>
                           <td>Samsung Smart TV</td>
                        </tr>
                        <tr>
                           <td><a href="#"
                                 class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">OR7429</a>
                           </td>
                           <td><span class="badge text-bg-danger">Delivered</span></td>
                           <td>iPhone 6 Plus</td>
                        </tr>
                        <tr>
                           <td> <a href="#"
                                 class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">OR7429</a>
                           </td>
                           <td><span class="badge text-bg-info">Processing</span></td>
                           <td>Samsung Smart TV</td>
                        </tr>
                        <tr>
                           <td><a href="#"
                                 class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">OR1848</a>
                           </td>
                           <td><span class="badge text-bg-warning">Pending</span></td>
                           <td>Samsung Smart TV</td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <div class="card-footer clearfix p-1">
               <a href="#" class="btn btn-sm btn-primary float-start ms-3">新增訂單</a>
               <a href="#" class="btn btn-sm btn-secondary float-end me-3">檢視所有訂單</a>
            </div>
         </div>
      </div>
   </section>

   <!-- section05 最新售機紀錄 -->
   <section id="s05" class="boxbg pb-3">
      <div class="container-fluid">
         <div class="card">
            <div class="card-header">
               <h1 class="card-title ms-3"><i class="fa-solid fa-square-plus text-success"></i><b
                     class="ms-1">近期新增機台項目</b></h1>
            </div>
            <div class="card-body p-0">
               <div class="px-1">
                  <div class="d-flex border-top p-1">
                     <div class="col-2"> <img src="" alt="Product Image" class="img-size-50"></div>
                     <div class="col-10"> <a href="#" class="fw-bold">
                           Samsung TV
                           <span class="badge text-bg-warning float-end">
                              $1800
                           </span> </a>
                        <div class="text-truncate">
                           Samsung 32" 1080p 60Hz LED Smart HDTV.
                        </div>
                     </div>
                  </div>
                  <div class="d-flex border-top p-1">
                     <div class="col-2"> <img src="" alt="Product Image" class="img-size-50"></div>
                     <div class="col-10"> <a href="javascript:void(0)" class="fw-bold">
                           Bicycle
                           <span class="badge text-bg-info float-end">
                              $700
                           </span> </a>
                        <div class="text-truncate">
                           26" Mongoose Dolomite Men's 7-speed, Navy Blue.
                        </div>
                     </div>
                  </div>
                  <div class="d-flex border-top p-1">
                     <div class="col-2"> <img src="#" alt="Product Image" class="img-size-50"> </div>
                     <div class="col-10"> <a href="javascript:void(0)" class="fw-bold">
                           Xbox One
                           <span class="badge text-bg-danger float-end">
                              $350
                           </span> </a>
                        <div class="text-truncate">
                           Xbox One Console Bundle with Halo Master Chief
                           Collection.
                        </div>
                     </div>
                  </div>
                  <div class="d-flex border-top p-1">
                     <div class="col-2"> <img src="#" alt="Product Image" class="img-size-50"> </div>
                     <div class="col-10"> <a href="javascript:void(0)" class="fw-bold">
                           PlayStation 4
                           <span class="badge text-bg-success float-end">
                              $399
                           </span> </a>
                        <div class="text-truncate">
                           PlayStation 4 500GB Console (PS4)
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="card-footer text-center p-1">
               <a href="#" class="btn btn-sm btn-primary">新增機台</a>
            </div>
         </div>
      </div>
   </section>

   <!-- sectionEND 其他連結和網頁版權 -->
   <section id="s0end" class="bg-secondary">
      <div class="container align-items-center">
         <ul class="nav">
            <li class="nav-item">
               <a class="nav-link disabled" style="color: white;">PowerBy 113年雲端技術應用實務班第2期3號陳俞蓁</a>
            </li>
            <li class="nav-item">
               <a href="https://gcis.nat.gov.tw/mainNew/" class="nav-link active" aria-current="page" target="_blank"
                  style="color: white;" rel="noopener noreferrer">全國商工行政服務入口網</a>
            </li>
         </ul>
      </div>
   </section>

   <!-- 會員系統 -->
   <!-- <button class="" id="memberSystem" title="會員系統"><i class="fa-solid fa-user fa-lg"></i></i></button> -->

   <!-- 查看機台清單 -->
   <button class="" id="moreitem" title="查看機台清單"><i class="fa-regular fa-rectangle-list"></i></button>

   <!-- 購物車 -->
   <button class="" id="shopping" title="購物車"><i class="fa-solid fa-cart-shopping fa-lg"></i></button>

   <!-- 回到頁面頂部 -->
   <button id="backToTop" title="回到頁面頂部"><i class="fa-solid fa-angles-up fa-lg"></i></button>

   <script src="js/bootstrap.bundle.min.js"></script>
   <script src="js/jquery-3.7.1.min.js"></script>
   <script src="js/jquery.transit.min.js"></script>
   <script src="js/wow.min.js"></script>
   <script src="js/counterup2.js"></script>
   <script src="js/CityCountyData.json"></script>
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
   <script>
      // section01 日期時間功能
      function updateDateTime() {
         const now = new Date();
         const formattedDateTime = now.toLocaleString(); // 取得日期時間
         const weekdays = ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"];
         const weekday = weekdays[now.getDay()]; // 取得星期幾

         document.getElementById("datetime").textContent = formattedDateTime;
         document.getElementById("weekday").textContent = weekday;
      }

      updateDateTime(); // 頁面載入時執行
      setInterval(updateDateTime, 1000); // 每秒更新

      document.getElementById("moreitem").addEventListener("click", function () {
         window.location.href = "tegrand_project_moreitem.html";
      });

      document.getElementById("shopping").addEventListener("click", function () {
         window.location.href = "tegrand_shopping.html";
      });

      // 回到頁面頂部
      document.getElementById("backToTop").addEventListener("click", function () {
         window.scrollTo({
            top: 0,
            behavior: "smooth"
         });
      });

      var city = [];
      var area = [];
      var selectCity;
      var selectArea;

      var flag_updateModal_email = false;
      var flag_updateModal_phone = true;
      var flag_updateModal_telephone = true;
      var flag_updateModal_fax = true;
      var flag_updateModal_address = true;
      var u_id; //for update
      $(function () {
         //s01_logout_btn 按鈕監聽
         $("#s01_logout_btn").click(function () {
            Swal.fire({
               title: '確定登出嗎?',
               text: "您確定要登出嗎？",
               icon: 'warning',
               showCancelButton: true,
               confirmButtonText: '確定',
               cancelButtonText: '取消',
               reverseButtons: true  // 使確定和取消按鈕的順序顛倒
            }).then((result) => {
               if (result.isConfirmed) {
                  sessionStorage.clear(); // 清除所有 sessionStorage
                  localStorage.clear(); // 若有使用 localStorage 也一併清除
                  document.cookie = "uid01=; max-age=0; path=/;"; //清除cookie
                  Swal.fire({
                     title: '登出成功!',
                     text: '3秒後將自動跳轉至主頁...',
                     icon: 'success',
                     timer: 3000,  // 2 秒後自動關閉
                     showConfirmButton: false
                  });
                  setTimeout(function () {
                     location.href = "tegrand_project_v4.html";
                  }, 3000);
               } else {
                  // // 如果用戶點擊取消
                  // Swal.fire({
                  //    title: '登出已取消',
                  //    text: '您還在當前頁面！',
                  //    icon: 'info'
                  // });
               }
            });
         });

         $("#updateModal_email, #updateModal_address, #updateModal_phone, #updateModal_telephone, #updateModal_fax").on("keydown", function (e) {
            if (e.key === " ") {
               e.preventDefault(); // 阻止輸入空白鍵
            }
         });

         $('#updateModal').on('show.bs.modal', function () {
            // 清空選項
            $("#selectCity").empty();
            $("#selectArea").empty();

            // 填充縣市選單
            $("#selectCity").append('<option value="" class="text-center" selected disabled>---選擇縣市---</option>');
            city.forEach(function (item) {
               $("#selectCity").append(`<option value="${item.CityName}">${item.CityName}</option>`);
            });

            // 監聽縣市選單變更事件
            $("#selectCity").off('change').on('change', function () {
               var selectedCity = $(this).val();

               // 清空地址輸入框
               $("#updateModal_address").val('');
               $("#updateModal_address").removeClass("is-valid").addClass("is-invalid");
               $("#addressError").removeClass("d-none");

               city.forEach(function (item) {
                  if (item.CityName === selectedCity) {
                     $("#selectArea").empty();

                     $("#selectArea").append('<option value="" class="text-center" selected disabled>---選擇鄉鎮市區---</option>');
                     item.AreaList.forEach(function (myitem) {
                        console.log(myitem.AreaName);
                        var strHTML = `<option value="${myitem.AreaName}">${myitem.AreaName}</option> -->`;
                        $("#selectArea").append(strHTML);
                     });

                     $("#selectArea").removeClass("is-valid").addClass("is-invalid");
                     $("#selectAreaError").removeClass("d-none");
                  }
               });
            });
         });

         //即時監聽updateModal_email  
         $("#updateModal_email").bind("input propertychange", function () {
            var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            var emailValue = $(this).val();

            if (emailPattern.test(emailValue)) {
               $(this).removeClass("is-invalid");
               $(this).addClass("is-valid");
               flag_updateModal_email = true;
            } else {
               $(this).removeClass("is-valid");
               $(this).addClass("is-invalid");
               flag_updateModal_email = false;
            }
         });

         $("#selectCity, #selectArea, #updateModal_address").on("input change", function () {
            var city = $("#selectCity").val();
            var area = $("#selectArea").val();
            var address = $("#updateModal_address").val().trim();

            var isCityEmpty = !city || city === "---選擇縣市---";
            var isAreaEmpty = !area || area === "---選擇鄉鎮市區---";
            var isAddressEmpty = address === "";

            // **如果選擇 city，area 和 address 會被清空，應該強制設定 flag 為 false**
            if ($(this).attr("id") === "selectCity") {
               $("#selectArea").val(""); // 清空區域
               $("#updateModal_address").val(""); // 清空地址
               isAreaEmpty = true;
               isAddressEmpty = true;
               flag_updateModal_address = false;
            }

            // 狀況 1：全為空值（不顯示錯誤）
            if (isCityEmpty && isAreaEmpty && isAddressEmpty) {
               $("#selectCity, #selectArea, #updateModal_address").removeClass("is-invalid is-valid");
               $("#selectCityError, #selectAreaError, #addressError").addClass("d-none");
               flag_updateModal_address = true;
               console.log("flag_updateModal_address =", flag_updateModal_address);
               return;
            }
            // 狀況 2：全部有值（顯示 valid）
            if (!isCityEmpty && !isAreaEmpty && !isAddressEmpty) {
               $("#selectCity, #selectArea, #updateModal_address").removeClass("is-invalid").addClass("is-valid");
               $("#selectCityError, #selectAreaError, #addressError").addClass("d-none");
               flag_updateModal_address = true;
               console.log("flag_updateModal_address =", flag_updateModal_address);
               return;
            }
            // 狀況 3：部分有填但不完整（顯示錯誤）
            flag_updateModal_address = false;
            if (isCityEmpty) {
               $("#selectCity").removeClass("is-valid").addClass("is-invalid");
               $("#selectCityError").removeClass("d-none");

            } else {
               $("#selectCity").removeClass("is-invalid").addClass("is-valid");
               $("#selectCityError").addClass("d-none");
            }

            if (isAreaEmpty) {
               $("#selectArea").removeClass("is-valid").addClass("is-invalid");
               $("#selectAreaError").removeClass("d-none");
            } else {
               $("#selectArea").removeClass("is-invalid").addClass("is-valid");
               $("#selectAreaError").addClass("d-none");
            }

            if (isAddressEmpty) {
               $("#updateModal_address").removeClass("is-valid").addClass("is-invalid");
               $("#addressError").removeClass("d-none");
            } else {
               $("#updateModal_address").removeClass("is-invalid").addClass("is-valid");
               $("#addressError").addClass("d-none");
            }

            console.log("flag_updateModal_address =", flag_updateModal_address);
         });


         //即時監聽updateModal_phone
         $("#updateModal_phone").bind("input propertychange", function () {
            var phonePattern = /^09\d{8}$/; //必須以09開頭，後面8位數字（共10碼）
            var phoneValue = $(this).val();

            $(this).on("keypress", function (e) {
               if (e.which < 48 || e.which > 57) {
                  e.preventDefault(); // 阻止非數字輸入
               }
            });

            if (phoneValue === "") {
               // 當輸入欄位為空時，不進行任何狀態變更
               $(this).removeClass("is-invalid");
               flag_updateModal_phone = true;
            } else if (phonePattern.test(phoneValue)) {
               $(this).removeClass("is-invalid");
               flag_updateModal_phone = true;
            } else {
               $(this).addClass("is-invalid");
               flag_updateModal_phone = false;
            }
         });

         //即時監聽updateModal_telephone
         $("#updateModal_telephone").bind("input propertychange", function () {
            var telephonePattern = /^0\d{8,9}$/; //必須以0開頭，長度為9或10碼的數字
            var telephoneValue = $(this).val();

            $(this).on("keypress", function (e) {
               if (e.which < 48 || e.which > 57) {
                  e.preventDefault(); // 阻止非數字輸入
               }
            });

            if (telephoneValue === "") {
               // 當輸入欄位為空時，不進行任何狀態變更
               $(this).removeClass("is-invalid");
               flag_updateModal_telephone = true;
            } else if (telephonePattern.test(telephoneValue)) {
               $(this).removeClass("is-invalid");
               flag_updateModal_telephone = true;
            } else {
               $(this).addClass("is-invalid");
               flag_updateModal_telephone = false;
            }
         });

         //即時監聽updateModal_fax
         $("#updateModal_fax").bind("input propertychange", function () {
            var faxPattern = /^0\d{8,9}$/; //必須以0開頭，長度為9或10碼的數字
            var faxValue = $(this).val();

            $(this).on("keypress", function (e) {
               if (e.which < 48 || e.which > 57) {
                  e.preventDefault(); // 阻止非數字輸入
               }
            });

            if (faxValue === "") {
               // 當輸入欄位為空時，不進行任何狀態變更
               $(this).removeClass("is-invalid");
               flag_updateModal_fax = true;
            } else if (faxPattern.test(faxValue)) {
               $(this).removeClass("is-invalid");
               flag_updateModal_fax = true;
            } else {
               $(this).addClass("is-invalid");
               flag_updateModal_fax = false;
            }
         });

         $('#updateModal_cancel_btn').on('click', function () {
            window.location.href = "tegrand_memberSystem.html";  // 導向原本的頁面
         });

         //確認uid是否合法
         if (getCookie("uid01")) {
            //將uid01傳遞至後端API執行驗證
            //input {"uid01" : "c5e6c37a"}
            var JSONdata = {};
            JSONdata["uid01"] = getCookie("uid01");
            console.log(JSON.stringify(JSONdata));

            $.ajax({
               type: "POST",
               url: "http://localhost/web202411/tegrand_member_control_api_v2.php?action=checkuid",
               data: JSON.stringify(JSONdata),
               dataType: "json",
               success: showdata_checkuid,
               error: function () {
                  Swal.fire({
                     title: "API介接錯誤!",
                     text: "tegrand_member_control_api_v2.php?action=checkuid",
                     icon: "error"
                  });
               }
            });
         } else {
            Swal.fire({
               title: "請先完成登入!",
               showDenyButton: false,
               showCancelButton: false,
               confirmButtonText: "確認",
               denyButtonText: `Don't save`,
               allowOutsideClick: false
            }).then((result) => {
               if (result.isConfirmed) {
                  location.href = "tegrand_project_v4.html";
               }
            });
         }
      });

      function showdata_checkuid(data) {
         console.log(data);
         let members = data.data;
         console.log(members);

         $("#my_loadingdata_btn").empty();
         // 渲染資料
         var strHTML1 = `<button class="small-box text-bg-primary text-decoration-none py-1 border-0 w-100" id="loadingdata_btn" data-bs-toggle="modal" data-bs-target="#loadingModal" data-id="${members.id}" data-username="${members.username}" data-email="${members.email}" data-city="${members.city}" data-area="${members.area}" data-address="${members.address}" data-phone="${members.phone}" data-telephone="${members.telephone}" data-fax="${members.fax}">
                  <div class="inner d-flex flex-column">
                     <h4 class="text-start"><b>會員資料</b></h4>
                     <h5 class="text-start"><b>檢視</b></h5>
                  </div>
                  <svg class="small-box-icon" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                     aria-hidden="true">
                     <path
                        d="M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z">
                     </path>
                  </svg>
               </button>`;
         $("#my_loadingdata_btn").append(strHTML1);

         $("#loadingdata_btn").click(function () {
            console.log($(this).data("id"));
            console.log($(this).data("username"));
            console.log($(this).data("email"));
            console.log($(this).data("city"));
            console.log($(this).data("area"));
            console.log($(this).data("address"));
            console.log($(this).data("phone"));
            console.log($(this).data("telephone"));
            console.log($(this).data("fax"));

            //將資料同步至modal
            u_id = $(this).data("id");
            $("#loadingModal_username").val($(this).data("username"));
            $("#loadingModal_email").val($(this).data("email"));
            $("#loadingModal_selectCity").val($(this).data("city"));
            $("#loadingModal_selectArea").val($(this).data("area"));
            $("#loadingModal_address").val($(this).data("address"));
            $("#loadingModal_phone").val($(this).data("phone"));
            $("#loadingModal_telephone").val($(this).data("telephone"));
            $("#loadingModal_fax").val($(this).data("fax"));
         });

         $("#my_loadingModal_update_btn").empty();
         var strHTML2 = `<button type="button" class="btn btn-warning" id="loadingModal_update_btn" data-bs-toggle="modal" data-bs-target="#updateModal" data-id="${members.id}" data-username="${members.username}" data-email="${members.email}" data-city="${members.city}" data-area="${members.area}" data-address="${members.address}" data-phone="${members.phone}" data-telephone="${members.telephone}" data-fax="${members.fax}">
                     更新會員資料
                  </button>`;
         $("#my_loadingModal_update_btn").append(strHTML2);

         $("#my_loadingModal_update_btn #loadingModal_update_btn").click(function () {
            console.log($(this).data("id"));
            console.log($(this).data("username"));
            console.log($(this).data("email"));
            console.log($(this).data("city"));
            console.log($(this).data("area"));
            console.log($(this).data("address"));
            console.log($(this).data("phone"));
            console.log($(this).data("telephone"));
            console.log($(this).data("fax"));

            //將資料同步至modal
            u_id = $(this).data("id");
            $("#updateModal_username").val($(this).data("username"));
            $("#updateModal_email").val($(this).data("email"));
            $("#updateModal_phone").val($(this).data("phone"));
            $("#updateModal_telephone").val($(this).data("telephone"));
            $("#updateModal_fax").val($(this).data("fax"));

            // 填充城市選項
            const selectedCity = $(this).data("city");
            $("#selectCity").val(selectedCity); // 設置選中的城市

            // 清空鄉鎮市區選單
            $("#selectArea").empty();
            $("#selectArea").append(
               '<option value="" class="text-center" selected disabled>---選擇鄉鎮市區---</option>'
            );

            // 根據城市填充鄉鎮市區
            city.forEach(function (item) {
               if (item.CityName === selectedCity) {
                  // 填充鄉鎮市區
                  item.AreaList.forEach(function (myitem) {
                     const strHTML = `<option value="${myitem.AreaName}">${myitem.AreaName}</option>`;
                     $("#selectArea").append(strHTML);
                  });
               }
            });

            // 設置選中的鄉鎮市區
            const selectedArea = $(this).data("area");
            $("#selectArea").val(selectedArea); // 設置選中的鄉鎮市區
            $("#updateModal_address").val($(this).data("address"));
         });

         //按鈕監聽 updateModal_update_btn
         $("#updateModal_update_btn").click(function () {
            let errors = [];

            // 先檢查 Email 是否為空
            let emailValue = $("#updateModal_email").val().trim();
            if (!emailValue) {
               Swal.fire({
                  title: "Email 為必填項目!",
                  icon: "error"
               });
               return;
            }
            console.log("123-", flag_updateModal_address);

            // 確保 flag 變數不會是 undefined
            flag_updateModal_address = flag_updateModal_address ?? false;
            flag_updateModal_phone = flag_updateModal_phone ?? false;
            flag_updateModal_telephone = flag_updateModal_telephone ?? false;
            flag_updateModal_fax = flag_updateModal_fax ?? false;

            // 收集錯誤訊息
            if (!flag_updateModal_phone) errors.push("手機號碼錯誤");
            if (!flag_updateModal_telephone) errors.push("市內電話錯誤");
            if (!flag_updateModal_fax) errors.push("傳真號碼錯誤");
            if (!flag_updateModal_address) errors.push("地址錯誤");

            // 如果有錯誤，顯示 Swal.fire 並停止執行
            if (errors.length > 0) {
               Swal.fire({
                  title: "欄位有錯誤，請修正!",
                  html: errors.map(err => `<div style="color: red;">• ${err}</div>`).join(""),
                  icon: "warning",
                  confirmButtonColor: "#3085d6",
                  confirmButtonText: "確認"
               });
               return;
            }

            // 準備要傳送的 JSON 資料
            let JSONdata = {
               "id": u_id,
               "email": emailValue,
               "city": $("#selectCity").val() || null,
               "area": $("#selectArea").val() || null,
               "address": $("#updateModal_address").val().trim() || null,
               "phone": $("#updateModal_phone").val().trim() || null,
               "telephone": $("#updateModal_telephone").val().trim() || null,
               "fax": $("#updateModal_fax").val().trim() || null
            };

            console.log(JSON.stringify(JSONdata));

            // 檢查是否有欄位變更
            if (!Object.values(JSONdata).some(value => value !== null && value !== "")) {
               Swal.fire({
                  title: "無欄位內容變更!",
                  icon: "error"
               });
               return;
            }

            // 發送 AJAX 請求
            $.ajax({
               type: "POST",
               url: "http://localhost/web202411/tegrand_member_control_api_v2.php?action=update",
               data: JSON.stringify(JSONdata),
               dataType: "json",
               success: showdata_update,
               error: function () {
                  Swal.fire({
                     title: "API介接錯誤!",
                     text: "tegerand_member_control_api_v1.php?action=update",
                     icon: "error"
                  });
               }
            });
         });
      }

      function showdata_update(data) {
         console.log(data);
         if (data.state) {
            Swal.fire({
               title: data.message,
               showDenyButton: false,
               showCancelButton: false,
               confirmButtonText: "確認",
               denyButtonText: `Don't save`,
               icon: "success",
               allowOutsideClick: false
            }).then((result) => {
               if (result.isConfirmed) {
                  location.href = "tegrand_memberSystem.html";
               }
            })
         } else {
            Swal.fire({
               title: data.message,
               icon: "error"
            });
         }
      }

      document.addEventListener("DOMContentLoaded", function () {
         let username = sessionStorage.getItem("username"); // 取得用戶名稱
         // let role = sessionStorage.getItem("role"); // 取得角色

         if (username) {
            $("#s01_username_showspan").removeClass("d-none");
            $("#s01_username_span").text(username);
         } else {
            // document.getElementById("welcome_msg").textContent = "歡迎訪客！";
         }
      });

      $(document).ready(function () {
         // 載入縣市、鄉鎮市區資料
         $.ajax({
            url: "js/CityCountyData.json",
            type: "GET",
            dataType: "json",
            success: function (data) {
               city = data; // 將資料存儲到全局變數
               console.log("City Data Loaded:", city);
            },
            error: function () {
               console.log("Error loading CityCountyData.json");
            },
         });
      });

      function setCookie(cname, cvalue, exdays) {
         const d = new Date();
         d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
         let expires = "expires=" + d.toUTCString();
         document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
         console.log(document.cookie);
      }

      function getCookie(cname) {
         let name = cname + "=";
         let ca = document.cookie.split(';');
         for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
               c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
               return c.substring(name.length, c.length);
            }
         }
         return "";
      }
   </script>
</body>

</html>